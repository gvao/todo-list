# Filtrando tarefas

Agora vamos filtrar os itens que temos no `todo-list`

## Input

Para começarmos precisamos referenciar o input de pesquisa.
```js
const inputSearch = document.querySelector('.form-search input')
```
E adicionamos evento de `input`, pois a cada nova string chama o evento.
```js
inputSearch.addEventListener('input', event => {})
```
Pegamos o valor digitado:
> Usaremos o método `trim()`, para remover espaços adicionais, e o `toLowerCase()`, para todas as letras serem minúsculas.
```js
inputSearch.addEventListener('input', event => {
    const inputValue = event.target.value.trim().toLowerCase()  
})
```
Com o `Array.from()` vamos transformar todos os filhos da `ul` em `array`.
```js
inputSearch.addEventListener('input', event => {
    const inputValue = event.target.value.trim().toLowerCase()  
    Array.from(todosContainer.children)
})
```
Vamos usar o `filter()` para filtrar os todos que dê match com a pesquisa.
> Adicionamos o `ToLowerCase()` para validar independente se tem letras maiúsculas.
```js
inputSearch.addEventListener('input', event => {
    const inputValue = event.target.value.trim().toLowerCase()  
    Array.from(todosContainer.children)
        .filter(({ textContent }) => !textContent.toLowerCase().includes(inputValue))
})
```
Agora Adicionamos e removemos as classes necessárias para ele ficar invisível.
```js
inputSearch.addEventListener('input', event => {
    const inputValue = event.target.value.trim().toLowerCase()  
    const lis = Array.from(todosContainer.children)
    const isIcludesValue = textContent =>  textContent.toLowerCase().includes(inputValue)

    lis
        .filter(({ textContent }) => ! isIcludesValue(textContent))
        .forEach(li => {
            li.classList.remove('d-flex')
            li.classList.add('hidden')
        })

})
```

Agora repetimos removendo o operador `not!`.
```js
inputSearch.addEventListener('input', event => {
    const inputValue = event.target.value.trim().toLowerCase()  
    const lis = Array.from(todosContainer.children)
    const isIcludesValue = textContent =>  textContent.toLowerCase().includes(inputValue)

    lis
        .filter(({ textContent }) => ! isIcludesValue(textContent))
        .forEach(li => {
            li.classList.remove('d-flex')
            li.classList.add('hidden')
        })

    lis
        .filter(({ textContent }) => isIcludesValue(textContent))
        .forEach(li => {
            li.classList.remove('hidden')
            li.classList.add('d-flex')
        })

})
```